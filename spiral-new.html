<html>
<head>
<style>
td {
	padding: 10px;
	margin: 0px;
	border: solid 1px gray;
}
</style>
</head>

<!--
https://stackoverflow.com/questions/14388452/how-do-i-load-a-json-object-from-a-file-with-ajax
-->

<script>
var temp_grid = [[0, 0], [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [-1, -1], [0, -1], [1, -1], [2, -1], [2, 0], [2, 1], [2, 2], [1, 2], [0, 2], [-1, 2], [-2, 2], [-2, 1], [-2, 0], [-2, -1], [-2, -2], [-1, -2], [0, -2], [1, -2], [2, -2], [3, -2], [3, -1], [3, 0], [3, 1], [3, 2], [3, 3], [2, 3], [1, 3], [0, 3], [-1, 3], [-2, 3], [-3, 3], [-3, 2], [-3, 1], [-3, 0], [-3, -1], [-3, -2], [-3, -3], [-2, -3], [-1, -3], [0, -3], [1, -3], [2, -3], [3, -3], [4, -3], [4, -2], [4, -1], [4, 0], [4, 1], [4, 2], [4, 3], [4, 4], [3, 4], [2, 4], [1, 4], [0, 4], [-1, 4], [-2, 4], [-3, 4], [-4, 4], [-4, 3], [-4, 2], [-4, 1], [-4, 0], [-4, -1], [-4, -2], [-4, -3], [-4, -4], [-3, -4], [-2, -4], [-1, -4], [0, -4], [1, -4], [2, -4], [3, -4], [4, -4], [5, -4], [5, -3], [5, -2], [5, -1], [5, 0], [5, 1], [5, 2], [5, 3], [5, 4], [5, 5], [4, 5], [3, 5], [2, 5], [1, 5], [0, 5], [-1, 5], [-2, 5], [-3, 5], [-4, 5], [-5, 5], [-5, 4], [-5, 3], [-5, 2], [-5, 1], [-5, 0], [-5, -1], [-5, -2], [-5, -3], [-5, -4], [-5, -5], [-4, -5], [-3, -5], [-2, -5], [-1, -5], [0, -5], [1, -5], [2, -5], [3, -5], [4, -5], [5, -5], [6, -5], [6, -4], [6, -3], [6, -2], [6, -1], [6, 0], [6, 1], [6, 2], [6, 3], [6, 4], [6, 5], [6, 6], [5, 6], [4, 6], [3, 6], [2, 6], [1, 6], [0, 6], [-1, 6], [-2, 6], [-3, 6], [-4, 6], [-5, 6], [-6, 6], [-6, 5], [-6, 4], [-6, 3], [-6, 2], [-6, 1], [-6, 0], [-6, -1], [-6, -2], [-6, -3], [-6, -4], [-6, -5], [-6, -6], [-5, -6], [-4, -6], [-3, -6], [-2, -6], [-1, -6], [0, -6], [1, -6], [2, -6], [3, -6], [4, -6], [5, -6], [6, -6]];

var number_of_columns = Math.sqrt(temp_grid.length);
var center_column = Math.ceil(number_of_columns / 2);
var starting_cell = center_column + Math.floor(number_of_columns / 2) * number_of_columns;

function fetchJSONFile(path, callback) {
    var httpRequest = new XMLHttpRequest();
    httpRequest.onreadystatechange = function() {
        if (httpRequest.readyState === 4) {
            if (httpRequest.status === 200) {
                var data = JSON.parse(httpRequest.responseText);
                if (callback) callback(data);
            }
        }
    };
    httpRequest.open('GET', path);
    httpRequest.send(); 
}

//fetchJSONFile('grid.json', function(data){
//    // do something with your data
//    console.log(data);
//});

function build_grid_cells(starting_cell) {
	console.log(starting_cell);
	var grid_html = "<table><tr>";
	for (var i = 1; i <= temp_grid.length; i++) {

		// x is for the position in the array
		x = Number(i) - 1;

		grid_html += "<td>" + i + "</td>";
		console.log(temp_grid[x]);

		if (i % number_of_columns) {
	        // Nothing
	    } else {
	        // New row
	        grid_html += "</tr><tr>"
	    }
	}
	grid_html += "</tr><table>";
	return grid_html;
}
</script>

<body>

<div id="grid_shell"></div>

</body>

<script>
document.getElementById("grid_shell").innerHTML = build_grid_cells(starting_cell);
</script>


</html>
